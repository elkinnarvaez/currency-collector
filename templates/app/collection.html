{% extends "app/base.html" %}
{% block title %}My Account{% endblock %}
{% block content %}
    <div class="my_account">
        <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: rgb(73, 92, 105);">
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/account">My Account</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/collection">Collection</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#">Friends</a>
                    </li> -->
                </ul>
            </div>
        </nav>
    </div>
    <div class="w3-col m3 profile" style="width: 35%;">
        <div class="w3-card w3-round w3-white">
            <div class="w3-container">
                <h3>Add a new item into your collection:</h3>
                <br>
                <div class="add-item">
                    <form enctype=multipart/form-data method="post">
                        <label>Type:</label>
                        <select name="type">
                            <option value="coin">Coin</option>
                            <option value="bill">Bill</option>
                        </select>
                        <br>
                        <br>
                        <label>Country:</label>
                        <input type="text" name="country">
                        <br>
                        <br>
                        <label>Denomination:</label>
                        <input type="text" name="denomination">
                        <br>
                        <br>
                        <label>Year:</label>
                        <input type="text" name="year">
                        <br>
                        <br>
                        <label>Composition:</label>
                        <input type="text" name="composition" placeholder="Nickel, silver">
                        <br>
                        <br>
                        <div class="description-div">
                            <label>Description:</label>
                            <textarea name="description" placeholder="Short description"></textarea>
                        </div>
                        <br>
                        <label>Obverse image:</label>
                        <input type="file" name="obverse_image"/>
                        <br>
                        <br>
                        <label>Reverse image:</label>
                        <input type="file" name="reverse_image"/>
                        <br>
                        <br>
                        <input type="submit" value="Upload" name="upload" style="position: relative; left:40%;">
                    </form>
                </div>
                <br>
            </div>
        </div>
        <div class="messages">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for msg in messages %}
                        <p>{{msg}}</p>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
    </div>

    <div class="collection-container">
        <div class="w3-card w3-round w3-light-gray">
            <div class="w3-container items-list">
                {% for item in items %}
                    <div class="item">
                        <p>Type: {{item.product_type}}</p>
                        <p>Country: {{item.country}}</p>
                        <p>Denomination: {{item.denomination}}</p>
                        <p>Year: {{item.year}}</p>
                        <p>Composition: {{item.composition}}</p>
                        <p>Description: {{item.description}}</p>
                        <img src="{{item.obverse_image_url}}">
                        <img src="{{item.reverse_image_url}}">
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}